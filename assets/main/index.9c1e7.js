window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var p="function"==typeof __require&&__require;if(!a&&p)return p(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var d=o[c]={exports:{}};e[c][0].call(d.exports,function(t){return i(e[c][1][t]||t)},d,d.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({CreatingFood:[function(t,e,o){"use strict";cc._RF.push(e,"20028+k6oJExp4W81lP8+Fw","CreatingFood");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.starPrefab=null,e.itemNode=null,e._speed=10,e._dt=0,e}return i(e,t),e.prototype.moveFood=function(){cc.tween(this.createItem()).to(this._speed,{position:cc.v3(this.random_data()-this.itemNode.width/2,-cc.winSize.height,0)}).start()},e.prototype.createItem=function(){var t=Math.floor(10*Math.random())+1>9;this.itemNode=cc.instantiate(t?this.starPrefab:this.itemPrefab);var e=cc.winSize.height/2,o=this.random_data();return this.itemNode.setScale(.5),this.itemNode.setPosition(o,e),this.node.addChild(this.itemNode),this.itemNode.on("food_gone",this.foodGone,this),this.itemNode.on(t?"star_hit":"food_hit",t?this.starHit:this.foodHit,this),this.itemNode},e.prototype.random_data=function(){var t=-cc.winSize.width/2+this.itemNode.width/2,e=cc.winSize.width/2-this.itemNode.width/2;return t+Math.random()*(e-t)},e.prototype.resetSpeed=function(){this._speed=10},e.prototype.speedUp=function(){this._speed-=.2},e.prototype.onEnable=function(){this.update},e.prototype.onDisable=function(){},e.prototype.starHit=function(){this.node.emit("star")},e.prototype.foodHit=function(){this.node.emit("hit")},e.prototype.foodGone=function(){this.node.emit("gone")},e.prototype.update=function(t){(this._dt+=t)<1||(this._dt=0,this.moveFood())},r([s(cc.Prefab)],e.prototype,"itemPrefab",void 0),r([s(cc.Prefab)],e.prototype,"starPrefab",void 0),r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Food:[function(t,e,o){"use strict";cc._RF.push(e,"d3817wAjANJxZyUBLSn4qpL","Food");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitAudio=null,e.goneAudio=null,e.iconImages=new Array,e}return i(e,t),e.prototype.onLoad=function(){this._bottom=-cc.winSize.height/2+this.node.height/2,this.node.on(cc.Node.EventType.TOUCH_START,this.onButton,this),this.node.getComponent(cc.Sprite).spriteFrame=this.randomSprite()},e.prototype.randomSprite=function(t,e){void 0===t&&(t=0),void 0===e&&(e=5);var o=Math.floor(Math.random()*(e-t+1))+t;return this.iconImages[o]},e.prototype.onButton=function(){this.node.emit("food_hit"),cc.audioEngine.play(this.hitAudio,!1,.5),this.node.getComponent(cc.Animation).play()},e.prototype.checkFoodGone=function(){this.node.y<this._bottom&&(cc.audioEngine.play(this.goneAudio,!1,.5),this.node.emit("food_gone"),this.node.destroy())},e.prototype.onDestroyItem=function(){this.node.destroy()},e.prototype.update=function(){this.checkFoodGone()},r([s(cc.AudioClip)],e.prototype,"hitAudio",void 0),r([s(cc.AudioClip)],e.prototype,"goneAudio",void 0),r([s([cc.SpriteFrame])],e.prototype,"iconImages",void 0),r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],GameScene:[function(t,e,o){"use strict";cc._RF.push(e,"a129cjyc09IYr5aEkjTcTZF","GameScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Score"),a=t("./CreatingFood"),s=cc._decorator,p=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreBar=null,e.menuNode=null,e.gameOver=null,e.food=null,e.maxLife=5,e._life=0,e._score=0,e}return i(e,t),e.prototype.onLoad=function(){this.food.on("gone",this._lifeDecrease,this),this.food.on("hit",this._addScore,this),this.food.on("star",this._starHeal,this),this._updateLife(),this._updateScore(),this.menuNode.on("start",this._onGame,this),this._initGame()},e.prototype._initGame=function(){this.food.getComponent(a.default).enabled=!1,this.food.getComponent(a.default).resetSpeed(),this.menuNode.active=!0,this.gameOver.active=!1,this._resetGame()},e.prototype._resetGame=function(){this._life=this.maxLife,this._updateLife(),this._score=0,this._updateScore()},e.prototype._onGame=function(){this._resetGame(),this.food.getComponent(a.default).enabled=!0,this.menuNode.active=!1,this.gameOver.active=!1},e.prototype._onEndGame=function(){this.food.getComponent(a.default).enabled=!1,this.food.getComponent(a.default).resetSpeed(),this.food.stopAllActions(),this.food.destroyAllChildren(),this.menuNode.active=!0,this.gameOver.active=!0,this.node.emit("end_game",this._score)},e.prototype._addScore=function(){this._score+=1,this._updateScore(),this.food.getComponent(a.default).speedUp()},e.prototype._lifeDecrease=function(){this._life-=1,this._updateLife(),0!=this._life||this._onEndGame()},e.prototype._starHeal=function(){this._life+=2,this._updateLife(),this.food.getComponent(a.default).resetSpeed()},e.prototype._updateLife=function(){this.scoreBar.getComponent(c.default).updateLife(this._life)},e.prototype._updateScore=function(){this.scoreBar.getComponent(c.default).updateScore(this._score)},r([d(cc.Node)],e.prototype,"scoreBar",void 0),r([d(cc.Node)],e.prototype,"menuNode",void 0),r([d(cc.Node)],e.prototype,"gameOver",void 0),r([d(cc.Node)],e.prototype,"food",void 0),r([d()],e.prototype,"maxLife",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./CreatingFood":"CreatingFood","./Score":"Score"}],"Menu ":[function(t,e,o){"use strict";cc._RF.push(e,"d75dfgjBBpEQo63uCFYiSq0","Menu ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editName=null,e.btnPlay=null,e.btnRating=null,e.mainMenu=null,e.ratingMenu=null,e.gameNode=null,e.maxCountRating=999,e.contentNode=null,e.targetName=null,e._player="",e}return i(e,t),e.prototype.onLoad=function(){this._player=cc.sys.localStorage.getItem("player"),null==this._player?this.editName.string="":this.editName.string=this._player,this._rating=JSON.parse(cc.sys.localStorage.getItem("rating")),null==this._rating&&(this._rating=new Array),this.gameNode.on("end_game",this._endGame,this)},e.prototype.onClickBack=function(){this.gameNode.active=!0,this.mainMenu.active=!0,this.ratingMenu.active=!1},e.prototype.onStart=function(){if(0==this.editName.string.length)return this._menuEnabled(!1),this.editName.placeholderFontColor=(new cc.Color).fromHEX("#FF0000"),void setTimeout(function(){this.editName.placeholderFontColor=(new cc.Color).fromHEX("#BBBBBB"),this.menuEnabled(!0)}.bind(this),250);this._player=this.editName.string,cc.sys.localStorage.setItem("player",this._player),this.node.emit("start")},e.prototype.onClickRating=function(){if(this.gameNode.active=!1,this.mainMenu.active=!1,this.ratingMenu.active=!0,this.contentNode.destroyAllChildren(),this._rating.length>0)for(var t=0;t<this._rating.length;t++){var e=cc.instantiate(this.targetName);this.contentNode.addChild(e);var o=-1*e.height*t;e.setPosition(0,o);var n=this._getRatingString(t,this._rating[t].name,this._rating[t].val);e.getComponent(cc.Label).string=n}},e.prototype._menuEnabled=function(t){this.editName.enabled=t,this.btnPlay.enabled=t,this.btnRating.enabled=t},e.prototype._getRatingString=function(t,e,o){var n=this.editName.maxLength-e.length,i="";if(t<9&&(i=" "),i=i+(t+1)+". "+e,n>0)for(var r=0;r<n;r++)i+=" ";return i+" "+o},e.prototype._endGame=function(t){if(t>0){var e={name:this._player,val:t};this._rating.push(e),this._rating.sort(function(t,e){return e.val-t.val}),this._rating.length>this.maxCountRating&&this._rating.pop(),cc.sys.localStorage.setItem("rating",JSON.stringify(this._rating))}},r([s(cc.EditBox)],e.prototype,"editName",void 0),r([s(cc.Button)],e.prototype,"btnPlay",void 0),r([s(cc.Button)],e.prototype,"btnRating",void 0),r([s(cc.Node)],e.prototype,"mainMenu",void 0),r([s(cc.Node)],e.prototype,"ratingMenu",void 0),r([s(cc.Node)],e.prototype,"gameNode",void 0),r([s()],e.prototype,"maxCountRating",void 0),r([s(cc.Node)],e.prototype,"contentNode",void 0),r([s(cc.Prefab)],e.prototype,"targetName",void 0),r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Score:[function(t,e,o){"use strict";cc._RF.push(e,"2d3b1y7jmhLH4dOIQnl7Asj","Score");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score=null,e.lifes=null,e}return i(e,t),e.prototype.updateScore=function(t){this.score.string="Score: "+t},e.prototype.updateLife=function(t){this.lifes.string="Lifes: "+t},r([s(cc.Label)],e.prototype,"score",void 0),r([s(cc.Label)],e.prototype,"lifes",void 0),r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Star:[function(t,e,o){"use strict";cc._RF.push(e,"0d187Y8W8FMmarDrrZafiRo","Star");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitAudio=null,e.goneAudio=null,e}return i(e,t),e.prototype.onLoad=function(){this._bottom=-cc.winSize.height/2+this.node.height/2,this.node.on(cc.Node.EventType.TOUCH_START,this.onButton,this)},e.prototype.onButton=function(){this.node.emit("star_hit"),cc.audioEngine.play(this.hitAudio,!1,.5),this.node.getComponent(cc.Animation).play()},e.prototype._checkFoodGone=function(){this.node.y<this._bottom&&(cc.audioEngine.play(this.goneAudio,!1,.5),this.node.emit("food_gone"),this.node.destroy())},e.prototype.onDestroyItem=function(){this.node.destroy()},e.prototype.update=function(){this._checkFoodGone()},r([s(cc.AudioClip)],e.prototype,"hitAudio",void 0),r([s(cc.AudioClip)],e.prototype,"goneAudio",void 0),r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["CreatingFood","Food","GameScene","Menu ","Score","Star"]);